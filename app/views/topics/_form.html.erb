<%= simple_form_for(@topic) do |f| %>
  <%= f.error_notification %>
  <%= f.error_notification message: f.object.errors[:base].to_sentence if f.object.errors[:base].present? %>

    <% if @topic.errors.any? %>
      <div class="errors">
        <p><%= @topic.errors.count %> Prevented this category from saving</p>
        <ul>
          <% @topic.errors.full_messages.each do |msg| %>
            <li><%= msg  %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

      <div class="field">
        <div class="control">
          <%= f.input :title, required: true, autofocus: true, input_html: { class: "input"}, wrapper: false, label_html: { class: "label" } %>
        </div>
      </div>

      <div class="field">
        <div class="control">
          <%= f.input :body, required: true, autofocus: true, input_html: { class: "input"}, wrapper: false, label_html: { class: "label" } %>
        </div>
      </div>

      <span class="select">
        <%= f.input_field :category_id, collection: @categories.map { |c| [c.title, c.id] },
          prompt: "Select category" %>
      </span>


      <%= f.button :submit, class: 'btn btn-dark' %>
<% end %>
